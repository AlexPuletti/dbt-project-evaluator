version: 2

models:
  - name: base__exposures
    description: base model from the graph variable, one record per exposure node
    columns:
      - name: unique_id
        tests:
          - unique

  - name: base__exposure_relationships
    description: base model from the graph variable, one record per exposure node relationship (comes from the depends on field in the graph)
    columns:
      - name: unique_id
        tests:
          - unique

  - name: base__metrics
    description: base model from the graph variable, one record per metric node
    columns:
      - name: unique_id
        tests:
          - unique
          
  - name: base__node_relationships
    description: base model from the graph variable, one record per direct node relationship (comes from the depends on field in the graph)
    columns:
      - name: unique_id
        tests:
          - unique
          
  - name: base__nodes
    description:  base model from the graph variable, one record per node (analysis, model, operation, seed, snapshot, test)
    columns:
      - name: unique_id
        tests:
          - unique
          
  - name: base__sources
    description: base model from the graph variable, one record per source node
    columns:
      - name: unique_id
        tests:
          - unique


macros:
  - name: select_from_values
    description: A macro to generate the SQL to create models where the data comes from a Jinja variable
    arguments:
      - name: values
        type: list
        description: The list of values to be inserted in the view/table. Each item of the list has the format "('value_col1', 'value_col2', 'value_col3')"
      - name: column_names
        type: list
        description: The names of the columns, in the same order as the values