version: 2

seeds:
  - name: test_fct_untested_models
    config:
      column_types:
        RESOURCE_ID: varchar
        TESTS_PER_MODEL: int
    tests:
      - dbt_utils.equality:
          compare_model: ref('fct_untested_models')
          compare_columns:
            - resource_id
            - tests_per_model
  - name: test_fct_test_coverage
    config:
      column_types:
        TOTAL_MODELS: number
        TOTAL_TESTS: number
        TESTED_MODELS: number
        TEST_COVERAGE_PCT: float
        TEST_TO_MODEL_RATIO: float
    tests:
      - dbt_utils.equality:
          compare_model: ref('fct_test_coverage')
          compare_columns:
            - TOTAL_MODELS
            - TOTAL_TESTS
            - TESTED_MODELS
            - TEST_COVERAGE_PCT
            - TEST_TO_MODEL_RATIO